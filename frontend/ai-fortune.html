<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¾é£Ÿå åœ - å››æ—¶</title>
    <style>
        @font-face {
            font-family: 'ShuQingGuKaiTi';
            src: url('../assets/ShuQingGuKaiTi-2.ttf') format('truetype');
            font-display: swap;
        }
        html, body, * {
            font-family: 'ShuQingGuKaiTi', serif !important;
        }
        
        :root {
            --primary-red: #60281E;
            --secondary-gold: #DAA520;
            --accent-jade: #478778;
            --warm-beige: #F5F5DC;
            --ink-black: #2C2C2C;
            --paper-white: #FEFEFE;
            --border-gray: #D3D3D3;
            --shadow-dark: rgba(44, 44, 44, 0.2);
            --mystic-purple: #8E44AD;
            --mystic-blue: #3498DB;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Serif SC', serif;
            background: linear-gradient(135deg, var(--warm-beige) 0%, var(--paper-white) 100%);
            color: var(--ink-black);
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3rem;
        }

        .back-button {
            padding: 0.8rem 1.5rem;
            background: var(--accent-jade);
            color: var(--paper-white);
            text-decoration: none;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 2px solid var(--accent-jade);
        }

        .back-button:hover {
            background: transparent;
            color: var(--accent-jade);
            transform: translateY(-2px);
        }

        .location-info {
            background: var(--secondary-gold);
            color: var(--paper-white);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .title-section {
            text-align: center;
            margin-bottom: 3rem;
        }

        .qingtuan-icon {
            background: url('../assets/1.png') no-repeat center center / contain !important;
            border-radius: 0;
            position: relative;
        }
        .qingtuan-icon::after {
            content: none !important;
        }

        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px var(--shadow-dark);
        }

        .page-subtitle {
            font-size: 1.2rem;
            color: var(--accent-jade);
            font-weight: 400;
            margin-bottom: 2rem;
        }

        .fortune-section {
            background: var(--paper-white);
            border: 3px solid var(--border-gray);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2.5rem;
            box-shadow: 4px 4px 12px var(--shadow-dark);
            position: relative;
            overflow: hidden;
        }

        .fortune-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 10px;
            background: linear-gradient(90deg, var(--primary-red), var(--secondary-gold), var(--mystic-purple), var(--accent-jade), var(--mystic-blue));
            border-radius: 13px 13px 0 0;
        }

        .fortune-cards {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 3rem 0;
            perspective: 1000px;
        }

        .fortune-card {
            width: 180px;
            height: 280px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s ease;
            cursor: pointer;
        }

        .fortune-card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 12px;
            box-shadow: 0 4px 8px var(--shadow-dark);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 1rem;
        }

        .card-back {
            background: linear-gradient(45deg, #8B0000, var(--primary-red));
            border: 5px solid var(--secondary-gold);
            font-size: 3rem;
            color: var(--paper-white);
        }

        .card-front {
            background: linear-gradient(135deg, #F9F0FF, #E6F7FF);
            border: 5px solid var(--secondary-gold);
            transform: rotateY(180deg);
        }

        .card-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--mystic-purple);
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--mystic-purple);
        }

        .card-text {
            font-size: 0.9rem;
            color: var(--ink-black);
        }

        .instruction {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--mystic-purple);
            font-size: 1.2rem;
            font-weight: 500;
        }

        .recipe-section {
            margin-top: 2rem;
            display: none;
            transition: all 0.8s ease;
        }

        .recipe-section.visible {
            display: block;
        }

        .recipe-title {
            font-size: 2rem;
            font-weight: 600;
            color: var(--primary-red);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .recipe-image {
            width: 100%;
            max-width: 400px;
            height: 250px;
            border-radius: 12px;
            margin: 0 auto 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
            background: linear-gradient(135deg, #90EE90 0%, #228B22 100%);
            box-shadow: 4px 4px 12px var(--shadow-dark);
        }

        .recipe-description {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 2rem;
            color: var(--ink-black);
            text-align: center;
        }

        .recipe-steps {
            background: rgba(71, 135, 120, 0.1);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .steps-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--accent-jade);
            margin-bottom: 1.5rem;
        }

        .steps-list {
            list-style: none;
        }

        .step-item {
            margin-bottom: 1.2rem;
            display: flex;
            gap: 1rem;
        }

        .step-number {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-red);
            min-width: 30px;
        }

        .step-text {
            font-size: 1.1rem;
            line-height: 1.5;
        }

        .fortune-message {
            text-align: center;
            margin: 2rem 0;
            font-size: 1.2rem;
            line-height: 1.6;
            font-style: italic;
            color: var(--mystic-purple);
        }

        .retry-button {
            background: var(--primary-red);
            color: var(--paper-white);
            border: none;
            border-radius: 12px;
            padding: 1.2rem 2.5rem;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 4px 4px 12px var(--shadow-dark);
            font-family: 'Noto Serif SC', serif;
            margin: 2rem auto;
            display: block;
        }

        .retry-button:hover {
            transform: translateY(-4px);
            box-shadow: 6px 6px 16px var(--shadow-dark);
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .header {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }
            
            .page-title {
                font-size: 2rem;
            }
            
            .fortune-cards {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="cooking.html" class="back-button">â† è¿”å›ä¸Šä¸€é¡µ</a>
            <div class="location-info" id="locationInfo">æŒªå¨</div>
        </div>

        <div class="title-section">
            <div class="qingtuan-icon"></div>
            <h1 class="page-title">ä»Šæ—¥ç¾é£Ÿå åœ</h1>
            <p class="page-subtitle">è®©å‘½è¿ä¹‹æ‰‹ä¸ºæ‚¨æ¨èä»Šæ—¥èœå•ï¼ç¿»å…¨ä¸‰å¼ æœ‰æƒŠå–œå™¢ï¼</p>
        </div>

        <div class="fortune-section">
            <p class="instruction" id="instruction">ç‚¹å‡»ä¸‰å¼ å¡ç‰‡ï¼Œæ­ç¤ºæ‚¨çš„ä»Šæ—¥ç¾é£Ÿçµæ„Ÿ</p>
            
            <div class="fortune-cards" id="fortuneCards">
                <div class="fortune-card" onclick="flipCard(this, 0)">
                    <div class="card-face card-back">?</div>
                    <div class="card-face card-front">
                        <div class="card-icon" id="icon1">ğŸŒ¶ï¸</div>
                        <div class="card-title" id="title1">ä»Šæ—¥å®œè¾›è¾£</div>
                        <div class="card-text" id="text1">è¾›è¾£çš„é£Ÿç‰©èƒ½æ¿€å‘æ‚¨çš„åˆ›é€ åŠ›ï¼Œä»Šæ—¥å°è¯•åŠ å…¥ä¸€ç‚¹è¾£æ¤’æˆ–å§œç‰‡ä¸ºèœè‚´å¢æ·»æ´»åŠ›</div>
                    </div>
                </div>
                
                <div class="fortune-card" onclick="flipCard(this, 1)">
                    <div class="card-face card-back">?</div>
                    <div class="card-face card-front">
                        <div class="card-icon" id="icon2">ğŸ¯</div>
                        <div class="card-title" id="title2">ä»Šæ—¥å®œç”œèœœ</div>
                        <div class="card-text" id="text2">ä¸€ä¸ç”œå‘³èƒ½å¸¦æ¥å¥½å¿ƒæƒ…ï¼Œå°è¯•åœ¨æ–™ç†ä¸­åŠ å…¥å°‘è®¸èœ‚èœœæˆ–æ«ç³–</div>
                    </div>
                </div>
                
                <div class="fortune-card" onclick="flipCard(this, 2)">
                    <div class="card-face card-back">?</div>
                    <div class="card-face card-front">
                        <div class="card-icon" id="icon3">ğŸŒ¿</div>
                        <div class="card-title" id="title3">ä»Šæ—¥å®œæ¸…æ–°</div>
                        <div class="card-text" id="text3">æ–°é²œé¦™è‰èƒ½ä¸ºæ‚¨å¸¦æ¥çµæ„Ÿï¼Œç‚¹ç¼€äº›è–„è·æˆ–ç½—å‹’å¶å§</div>
                    </div>
                </div>
            </div>

            <div class="fortune-message" id="fortuneMessage"></div>

            <div class="recipe-section" id="recipeSection">
                <h2 class="recipe-title">ç§˜åˆ¶å‡‰æ‹Œé»„ç“œ</h2>
                <div class="recipe-image">ğŸ¥’</div>
                <p class="recipe-description">è¿™é“æ¸…çˆ½å¯å£çš„å‡‰æ‹Œé»„ç“œï¼Œèåˆäº†è¾›è¾£ä¸ç”˜ç”œï¼Œå†ç‚¹ç¼€ä»¥æ–°é²œé¦™è‰ï¼Œä»¿ä½›å‘½ä¸­æ³¨å®šè¦æˆä¸ºä»Šæ—¥çš„å®Œç¾æ–™ç†ï¼</p>
                
                <div class="recipe-steps">
                    <h3 class="steps-title">ç¥ç§˜æ­¥éª¤</h3>
                    <ol class="steps-list">
                        <li class="step-item">
                            <div class="step-number">1.</div>
                            <div class="step-text">é»„ç“œæ´—å‡€åç”¨åˆ€èƒŒæ‹æ‰“ï¼Œä½¿å…¶è£‚å¼€ä»¥ä¾¿æ›´å¥½åœ°å¸æ”¶è°ƒå‘³æ–™</div>
                        </li>
                        <li class="step-item">
                            <div class="step-number">2.</div>
                            <div class="step-text">åˆ‡æˆå°å—ï¼Œæ’’ä¸Šä¸€èŒ¶åŒ™ç›ï¼Œé™ç½®10åˆ†é’Ÿä½¿å…¶å‡ºæ°´</div>
                        </li>
                        <li class="step-item">
                            <div class="step-number">3.</div>
                            <div class="step-text">æ²¥å¹²æ°´åˆ†ï¼ŒåŠ å…¥è’œæœ«ã€è¾£æ¤’ç‰‡ã€å°‘è®¸èœ‚èœœ</div>
                        </li>
                        <li class="step-item">
                            <div class="step-number">4.</div>
                            <div class="step-text">å€’å…¥é¦™é†‹å’ŒèŠéº»æ²¹ï¼Œæ’’ä¸Šæ–°é²œè–„è·å¶ç¢</div>
                        </li>
                        <li class="step-item">
                            <div class="step-number">5.</div>
                            <div class="step-text">è½»è½»æ‹ŒåŒ€ï¼Œå†·è—15åˆ†é’Ÿåäº«ç”¨</div>
                        </li>
                    </ol>
                </div>
                
                <p class="fortune-message">æ˜Ÿæ˜Ÿå‘Šè¯‰æˆ‘ï¼Œä»Šå¤©çš„ä½ åœ¨å“å°è¿™é“æ–™ç†æ—¶ï¼Œä¼šæœ‰æ„æƒ³ä¸åˆ°çš„çµæ„Ÿæ¶Œç°ï¼</p>
            </div>
            
            <button class="retry-button" id="retryButton" style="display: none;">é‡æ–°å åœ</button>
        </div>
    </div>

    <script>
        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºç”¨æˆ·ä½ç½®
        window.addEventListener('load', function() {
            const savedLocation = localStorage.getItem('userLocation');
            const locationInfo = document.getElementById('locationInfo');
            
            if (savedLocation) {
                const locationNames = {
                    'norway': 'æŒªå¨',
                    'sweden': 'ç‘å…¸',
                    'denmark': 'ä¸¹éº¦',
                    'finland': 'èŠ¬å…°',
                    'iceland': 'å†°å²›',
                    'germany': 'å¾·å›½',
                    'netherlands': 'è·å…°',
                    'france': 'æ³•å›½',
                    'uk': 'è‹±å›½',
                    'other': 'æ¬§æ´²'
                };
                locationInfo.textContent = locationNames[savedLocation] || 'æœªçŸ¥ä½ç½®';
            }
        });

        // å¡ç‰‡å†…å®¹æ•°æ®
        const cardData = [
            // ç¬¬ä¸€å¼ å¡ï¼ˆå‘³é“ï¼‰
            [
                { icon: 'ğŸŒ¶ï¸', title: 'ä»Šæ—¥å®œè¾›è¾£', text: 'è¾›è¾£çš„é£Ÿç‰©èƒ½æ¿€å‘æ‚¨çš„åˆ›é€ åŠ›ï¼Œä»Šæ—¥å°è¯•åŠ å…¥ä¸€ç‚¹è¾£æ¤’æˆ–å§œç‰‡ä¸ºèœè‚´å¢æ·»æ´»åŠ›' },
                { icon: 'ğŸ¯', title: 'ä»Šæ—¥å®œç”œèœœ', text: 'ä¸€ä¸ç”œå‘³èƒ½å¸¦æ¥å¥½å¿ƒæƒ…ï¼Œå°è¯•åœ¨æ–™ç†ä¸­åŠ å…¥å°‘è®¸èœ‚èœœæˆ–æ«ç³–' },
                { icon: 'ğŸ§‚', title: 'ä»Šæ—¥å®œæ¸…æ·¡', text: 'ç®€å•çš„ç›å‘³èƒ½è®©æ‚¨æ›´ä¸“æ³¨ï¼Œå‡å°‘è°ƒå‘³æ–™ï¼Œäº«å—é£Ÿææœ¬èº«çš„æ»‹å‘³' },
                { icon: 'ğŸ¥ƒ', title: 'ä»Šæ—¥å®œé†‡åš', text: 'æµ“éƒçš„æ»‹å‘³èƒ½å¸¦æ¥æ»¡è¶³æ„Ÿï¼Œå°è¯•ç‚–ç…®æˆ–æ…¢ç‚–çš„çƒ¹é¥ªæ–¹å¼' }
            ],
            // ç¬¬äºŒå¼ å¡ï¼ˆçƒ¹é¥ªæ–¹å¼ï¼‰
            [
                { icon: 'ğŸ”¥', title: 'ä»Šæ—¥å®œçˆ†ç‚’', text: 'å¿«é€Ÿç¿»ç‚’èƒ½ä¸ºæ‚¨å¸¦æ¥ç”Ÿæ´»çš„çƒ­æƒ…ï¼Œå°è¯•ç”¨å¤§ç«å¿«é€Ÿçƒ¹é¥ª' },
                { icon: 'ğŸ’¨', title: 'ä»Šæ—¥å®œè’¸ç…®', text: 'è’¸ç…®é£Ÿç‰©èƒ½ä¿ç•™è¥å…»ï¼Œè®©æ‚¨çš„èº«ä½“æ„Ÿå—åˆ°æ»‹å…»' },
                { icon: 'ğŸ²', title: 'ä»Šæ—¥å®œç‚–ç…®', text: 'æ…¢ç‚–çš„è¿‡ç¨‹èƒ½è®©æ‚¨æ”¾æ…¢ç”Ÿæ´»èŠ‚å¥ï¼Œæ„Ÿå—ç­‰å¾…çš„ç¾å¥½' },
                { icon: 'ğŸ¥—', title: 'ä»Šæ—¥å®œå‡‰æ‹Œ', text: 'å‡‰æ‹Œæ–™ç†èƒ½ä¸ºæ‚¨å¸¦æ¥æ¸…æ–°æ„Ÿå—ï¼Œå°è¯•ä¸åŠ çƒ­çš„çƒ¹é¥ªæ–¹å¼' }
            ],
            // ç¬¬ä¸‰å¼ å¡ï¼ˆåˆ›æ„ç‚¹ç¼€ï¼‰
            [
                { icon: 'ğŸŒ¿', title: 'ä»Šæ—¥å®œæ¸…æ–°', text: 'æ–°é²œé¦™è‰èƒ½ä¸ºæ‚¨å¸¦æ¥çµæ„Ÿï¼Œç‚¹ç¼€äº›è–„è·æˆ–ç½—å‹’å¶å§' },
                { icon: 'ğŸ‹', title: 'ä»Šæ—¥å®œé…¸å‘³', text: 'ä¸€ç‚¹é…¸å‘³èƒ½æå‡æ–™ç†å±‚æ¬¡ï¼ŒæŒ¤äº›æŸ æª¬æ±æˆ–åŠ ç‚¹é†‹è¯•è¯•çœ‹' },
                { icon: 'ğŸŒ°', title: 'ä»Šæ—¥å®œåšæœ', text: 'åšæœèƒ½å¢æ·»å£æ„Ÿå˜åŒ–ï¼Œæ’’äº›æä»æˆ–æ ¸æ¡ƒç¢å§' },
                { icon: 'ğŸ·', title: 'ä»Šæ—¥å®œé…’é¦™', text: 'ä¸€ç‚¹é…’é¦™èƒ½æå‡æ–™ç†æ ¼è°ƒï¼Œè¯•è¯•åŠ å…¥ä¸€ç‚¹æ–™é…’æˆ–çº¢é…’' }
            ]
        ];

        // èœè°±æ•°æ®
        const recipes = [
            {
                title: 'ç§˜åˆ¶å‡‰æ‹Œé»„ç“œ',
                image: 'ğŸ¥’',
                description: 'è¿™é“æ¸…çˆ½å¯å£çš„å‡‰æ‹Œé»„ç“œï¼Œèåˆäº†è¾›è¾£ä¸ç”˜ç”œï¼Œå†ç‚¹ç¼€ä»¥æ–°é²œé¦™è‰ï¼Œä»¿ä½›å‘½ä¸­æ³¨å®šè¦æˆä¸ºä»Šæ—¥çš„å®Œç¾æ–™ç†ï¼',
                steps: [
                    'é»„ç“œæ´—å‡€åç”¨åˆ€èƒŒæ‹æ‰“ï¼Œä½¿å…¶è£‚å¼€ä»¥ä¾¿æ›´å¥½åœ°å¸æ”¶è°ƒå‘³æ–™',
                    'åˆ‡æˆå°å—ï¼Œæ’’ä¸Šä¸€èŒ¶åŒ™ç›ï¼Œé™ç½®10åˆ†é’Ÿä½¿å…¶å‡ºæ°´',
                    'æ²¥å¹²æ°´åˆ†ï¼ŒåŠ å…¥è’œæœ«ã€è¾£æ¤’ç‰‡ã€å°‘è®¸èœ‚èœœ',
                    'å€’å…¥é¦™é†‹å’ŒèŠéº»æ²¹ï¼Œæ’’ä¸Šæ–°é²œè–„è·å¶ç¢',
                    'è½»è½»æ‹ŒåŒ€ï¼Œå†·è—15åˆ†é’Ÿåäº«ç”¨'
                ]
            },
            {
                title: 'ç¥å¥‡ç…è›‹å’–å•¡',
                image: 'â˜•',
                description: 'ä½ æ•¢å°è¯•è¿™ä¸ªå¥‡å¦™ç»„åˆå—ï¼Ÿä¸€æ»´é†‹åŠ å…¥å’–å•¡ï¼Œå†é…ä¸Šå®Œç¾ç…è›‹ï¼Œè¿™ä¸ªå¼‚æƒ³å¤©å¼€çš„æ­é…å¯èƒ½ä¼šæ”¹å˜ä½ å¯¹æ—©é¤çš„çœ‹æ³•ï¼',
                steps: [
                    'å‡†å¤‡ä¸€æ¯ç°ç…®å’–å•¡ï¼ŒåŠ å…¥ä¸€æ»´ç™½é†‹ï¼ˆä¸è¦æ€€ç–‘ï¼ï¼‰',
                    'å¹³åº•é”…ä¸­æ”¾å°‘è®¸é»„æ²¹ï¼Œä¸­å°ç«èåŒ–',
                    'æ‰“å…¥ä¸€ä¸ªé¸¡è›‹ï¼Œæ’’ä¸Šå°‘è®¸ç›å’Œé»‘èƒ¡æ¤’',
                    'å½“è›‹ç™½å‡å›ºä½†è›‹é»„ä»ç„¶æŸ”è½¯æ—¶ï¼Œå…³ç«',
                    'å°†ç…è›‹æ”¾åœ¨ä¸€ç‰‡çƒ¤å¥½çš„é¢åŒ…ä¸Šï¼Œå°å£å“å°å’–å•¡ä¸ç…è›‹çš„ç¥å¥‡ç»„åˆ'
                ]
            },
            {
                title: 'åŒçœ¼è§‚ä¸–ç‚’é¥­',
                image: 'ğŸš',
                description: 'é—­ä¸Šä¸€åªçœ¼ç›çƒ¹é¥ªï¼Œä½ ä¼šå‘ç°ä¸åŒçš„è§†è§’å¸¦æ¥ä¸åŒçš„å‘³é“ï¼è¿™é“ç‚’é¥­èåˆäº†ç”œã€å’¸ã€é…¸ä¸‰ç§é£å‘³ï¼Œæ¯ä¸€å£éƒ½æ˜¯æƒŠå–œã€‚',
                steps: [
                    'å‡†å¤‡éš”å¤œç±³é¥­ï¼Œç”¨æ‰‹å°†å…¶åˆ†æ•£æˆé¢—ç²’çŠ¶',
                    'çƒ­é”…å€’æ²¹ï¼ŒåŠ å…¥è›‹æ¶²ç‚’æ•£',
                    'é—­ä¸Šä½ çš„å·¦çœ¼ï¼ˆæ˜¯çš„ï¼ŒçœŸçš„é—­ä¸Šï¼ï¼‰ï¼ŒåŠ å…¥ç±³é¥­ç¿»ç‚’å‡åŒ€',
                    'ç»§ç»­ä¿æŒå•çœ¼çŠ¶æ€ï¼ŒåŠ å…¥èƒ¡èåœä¸ã€é’è±Œè±†å’Œç‰ç±³ç²’',
                    'åŠ å…¥ä¸€å°å‹ºèœ‚èœœã€å‡ æ»´é†‹å’Œé€‚é‡ç›è°ƒå‘³',
                    'å‡ºé”…å‰æ’’ä¸Šè‘±èŠ±ï¼Œç°åœ¨å¯ä»¥çå¼€åŒçœ¼äº«ç”¨äº†'
                ]
            }
        ];

        // éšæœºé€‰æ‹©å¡ç‰‡å†…å®¹
        function shuffleCards() {
            const selectedCards = [0, 0, 0]; // å­˜å‚¨æ¯å¼ å¡ç‰‡é€‰ä¸­çš„ç´¢å¼•
            
            for (let i = 0; i < 3; i++) {
                selectedCards[i] = Math.floor(Math.random() * 4); // 0-3çš„éšæœºæ•°
                
                // æ›´æ–°å¡ç‰‡å†…å®¹
                document.getElementById(`icon${i+1}`).textContent = cardData[i][selectedCards[i]].icon;
                document.getElementById(`title${i+1}`).textContent = cardData[i][selectedCards[i]].title;
                document.getElementById(`text${i+1}`).textContent = cardData[i][selectedCards[i]].text;
            }
            
            return selectedCards;
        }

        let flippedCount = 0;
        const selectedCards = shuffleCards();
        
        function flipCard(card, index) {
            if (!card.classList.contains('flipped')) {
                card.classList.add('flipped');
                flippedCount++;
                
                if (flippedCount === 3) {
                    setTimeout(() => {
                        // æ˜¾ç¤ºé…å¯¹çš„èœè°±
                        document.getElementById('fortuneMessage').textContent = 'å‘½è¿å·²ç»æ­æ™“ï¼è¿™æ˜¯æ‚¨ä»Šå¤©çš„å¹¸è¿æ–™ç†ï¼š';
                        
                        // éšæœºé€‰æ‹©ä¸€ä¸ªèœè°±
                        const selectedRecipe = recipes[Math.floor(Math.random() * recipes.length)];
                        
                        // æ›´æ–°èœè°±å†…å®¹
                        document.querySelector('.recipe-title').textContent = selectedRecipe.title;
                        document.querySelector('.recipe-image').textContent = selectedRecipe.image;
                        document.querySelector('.recipe-description').textContent = selectedRecipe.description;
                        
                        // æ›´æ–°æ­¥éª¤
                        const stepsList = document.querySelector('.steps-list');
                        stepsList.innerHTML = '';
                        selectedRecipe.steps.forEach((step, index) => {
                            stepsList.innerHTML += `
                                <li class="step-item">
                                    <div class="step-number">${index+1}.</div>
                                    <div class="step-text">${step}</div>
                                </li>
                            `;
                        });
                        
                        // æ˜¾ç¤ºèœè°±éƒ¨åˆ†å’Œé‡è¯•æŒ‰é’®
                        document.getElementById('recipeSection').classList.add('visible');
                        document.getElementById('retryButton').style.display = 'block';
                        document.getElementById('instruction').style.display = 'none';
                    }, 1000);
                }
            }
        }
        
        document.getElementById('retryButton').addEventListener('click', () => {
            // é‡ç½®å¡ç‰‡çŠ¶æ€
            const cards = document.querySelectorAll('.fortune-card');
            cards.forEach(card => {
                card.classList.remove('flipped');
            });
            
            // é‡ç½®è®¡æ•°å’Œéšè—èœè°±éƒ¨åˆ†
            flippedCount = 0;
            document.getElementById('recipeSection').classList.remove('visible');
            document.getElementById('retryButton').style.display = 'none';
            document.getElementById('fortuneMessage').textContent = '';
            document.getElementById('instruction').style.display = 'block';
            
            // é‡æ–°æ´—ç‰Œ
            shuffleCards();
        });
    </script>
</body>
</html>